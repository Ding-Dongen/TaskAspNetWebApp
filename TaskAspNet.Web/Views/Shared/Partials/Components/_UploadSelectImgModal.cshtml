@model UploadSelectImgDto

<div id="uploadModal" class="upload-modal-overlay img-modal modal-overlay" data-close-outside="true" style="display:none;">
    <div id="uploadImgcontent" class="upload-modal-content img-modal img-modal-content">
        <div class="upload-modal-header">
        <h3>Select or Upload an Image</h3>
        <span class="close-modal">×</span>
        </div>

        
        <input type="hidden" id="hiddenSelectedImage" name="ImageData.SelectedImage" value="@Model.SelectedImage" />
        <input type="hidden" id="hiddenCurrentImage" name="ImageData.CurrentImage" value="@Model.CurrentImage" />

        <div class="form-group">
            <label>Select Predefined Image:</label>
            <select asp-for="SelectedImage"
                    class="form-control"
                    id="selectImage">
                <option value="">-- Choose an Image --</option>
                @foreach (var image in Model.PredefinedImages ?? new List<string>())
                {
                    <option value="@image">@image</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label>Or Upload Custom Image:</label>
          
            <button type="button" id="triggerFileInput" class="btn btn-primary">Choose File</button>

          
            <input type="file" id="fileInput" style="display:none;" accept="image/*" />
        </div>

        <div class="preview">
            <img id="imagePreview"
                 src="@(!string.IsNullOrEmpty(Model.CurrentImage) ? Model.CurrentImage : "/images/default.png")"
                 alt="Selected Image"
                 style="max-width:100%; margin-top:8px;" />
        </div>

        <button type="button" id="saveImageSelection" class="btn btn-primary">Save</button>
    </div>
</div>
